!function t(e,n,i){function r(s,h){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!h&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return r(n?n:t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";var i,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){var e=function(){function t(){}return t.toString=function(){return[this.major,this.minor,this.patch].join(".")},t.major=0,t.minor=0,t.patch=0,t}();t.version=e;var n=function(){function t(t,e){this._args=e,this._target=t}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"args",{get:function(){return this._args},set:function(t){this._args=t},enumerable:!0,configurable:!0}),t}();t.Event=n;var i=function(t){function e(e,n){t.call(this,e,n)}return r(e,t),e}(n);t.UIEvent=i;var o=function(t){function e(e,n,i,r){t.call(this,e,{propertyName:n,oldValue:i,newValue:r})}return r(e,t),e}(i);t.PropertyChangedEvent=o;var s=function(t){function e(e,n){t.call(this,e,{item:n})}return r(e,t),e}(n);t.CollectionEvent=s;var h=function(){function e(){this.$$e=new t.EventGenerator(this)}return e.prototype.on=function(t,e){},e.prototype.off=function(t,e){},e.prototype.$emit=function(t,e){},e}();t.EventEmitter=h;var c=function(){function t(t,e){this.$hooks=[],this.eventName=e,this.$eventSource=t}return t.prototype.triggerEvent=function(t){this.$hooks.forEach(function(e){"function"==typeof e&&e.call(this.$eventSource,t)})},t.prototype.getListenersCount=function(){return this.$hooks.length},t.prototype.addEventListener=function(t){this.$hooks.push(t)},t.prototype.removeEventListener=function(t){var e=this.$hooks.indexOf(t);return e>-1&&this.$hooks.splice(e,1),e>-1},t}();t.EventListenersCollection=c;var u=function(){function e(t,e){void 0===e&&(e=!0),this.$listeners={},this.$owner=t,e&&this.inject()}return e.prototype.hasListeners=function(t){return"undefined"!=typeof this.$listeners[t.toString()]},e.prototype.inject=function(){this.$owner.on=this.on,this.$owner.off=this.off,this.$owner.$emit=this.emit},e.prototype.emit=function(t,e){this.hasListeners(t)||this.$listeners[t].triggerEvent(e)},e.prototype.on=function(e,n){this.hasListeners(e)||(this.$listeners[e]=new t.EventListenersCollection(this.$owner,e)),this.$listeners[e].addEventListener(n)},e.prototype.off=function(t,e){return this.hasListeners(t)?this.$listeners[t].removeEventListener(e):!1},e}();t.EventGenerator=u;var f=function(e){function n(n){e.call(this),this.element=n,this.canvas=document.createElement("canvas"),this.element.appendChild(this.canvas),this.controls=new t.Collection(null,this),this.$emit("drawStart",new i(this,{}))}return r(n,e),Object.defineProperty(n.prototype,"context",{get:function(){return this.canvas.getContext("2d")},enumerable:!0,configurable:!0}),n.prototype.redrawContext=function(){},n}(h);t.Application=f;var a=function(t){function e(e,n){t.call(this),this.collectionHandler=e,this.items=[],this.$defaultApplication=n}return r(e,t),e.prototype.add=function(t){t.$$inject(this.collectionHandler),this.items.push(t),this.$emit("elementInserted",new s(this,t))},e.prototype.remove=function(t){var e=this.items.indexOf(t);e>-1&&(this.items[e].dispose(),this.$emit("elementRemove",new s(this,this.items[e])),this.items.splice(e,1))},e}(h);t.Collection=a;var p=function(){function t(t,e){this.x=t,this.y=e}return t}();t.Point=p;var l=function(){function t(){}return t.start="start",t.end="end",t.left="left",t.center="center",t.right="right",t}();t.TextAlign=l;var d=function(e){function n(n){e.call(this),this.$height=128,this.$width=128,this.$injected=!1,this.$backgroundColor="#dedede",this.$foreColor="#000",this.owner=n,this.$context=n.context,this.controls=new t.Collection(this,n)}return r(n,e),Object.defineProperty(n.prototype,"context",{get:function(){return this.$context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInjected",{get:function(){return this.$injected},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.$backgroundColor},set:function(t){this.$emit("propertyChange",new o(this,"backgroundColor",this.$backgroundColor,t)),this.$backgroundColor=t,this.redrawContext()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"foreColor",{get:function(){return this.$foreColor},set:function(t){this.$emit("propertyChange",new o(this,"foreColor",this.$foreColor,t)),this.$foreColor=t,this.context.fillStyle=t,this.redrawContext()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.$height},set:function(t){this.$emit("propertyChange",new o(this,"width",this.$height,t)),this.$height=t,this.redrawContext()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.$width},set:function(t){this.$emit("propertyChange",new o(this,"width",this.$width,t)),this.$width=t,this.redrawContext()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.__position__},set:function(t){this.$emit("propertyChange",new o(this,"position",this.__position__,t)),this.__position__=t,this.redrawContext()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.$parent},enumerable:!0,configurable:!0}),n.prototype.redrawContext=function(t){return void 0===t&&(t=!1),this.isInjected&&t?(this.$emit("redraw",new i(this,{force:t})),this.render(),this.parent.redrawContext(t),!0):!1},n.prototype._render=function(){},n.prototype.render=function(){this.$emit("render",new i(this,null)),this._render(),this.$emit("rendered",new i(this,null))},n.prototype.$$inject=function(t){this.$parent=t,this.$injected=!0,this.$emit("inject",new i(this,{parent:t})),this.render()},n.prototype.dispose=function(){this.$emit("dispose",new i(this,null)),this.$injected=!1},n}(h);t.UIControl=d}(i=n.core||(n.core={}))},{}],2:[function(t,e,n){window.kratos=t("./core.js").core,window.kratos.ui=t("./ui.js").ui},{"./core.js":1,"./ui.js":3}],3:[function(t,e,n){"use strict";var i,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=t("./core");!function(t){var e=function(t){function e(){t.apply(this,arguments),this.$text="New Label",this.$align=o.core.TextAlign.left}return r(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.$text},set:function(t){this.$text=t,this.redrawContext()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this.$align},set:function(t){this.$align=t,this.redrawContext()},enumerable:!0,configurable:!0}),e.prototype._render=function(){this.context.fillText(this.text,this.height,this.width)},e}(o.core.UIControl);t.Label=e}(i=n.ui||(n.ui={}))},{"./core":1}]},{},[2]);